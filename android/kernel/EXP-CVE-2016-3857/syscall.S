#define __ASSEMBLY__
#include  <linux/linkage.h>

/*
ENTRY(eabi_syscall)
	mov     ip, sp
	push    {r4, r5, r6, r7}
	mov     r7, r0
	mov     r0, r1
	mov     r1, r2
	mov     r2, r3
	ldm     ip, {r3, r4, r5, r6}
	svc	0x00000000
	pop     {r4, r5, r6, r7}
	cmn     r0, #4096
	bxls	lr
	rsb	r0, r0, #0
END(eabi_syscall)
*/

ENTRY(oabi_syscall)
	mov     ip, sp
	svc	#252 | 0x900000
	cmn     r0, #4096
	bxls	lr
	rsb	r0, r0, #0
END(oabi_syscall)

