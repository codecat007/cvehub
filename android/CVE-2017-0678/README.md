stagefright -s CVE-2017-0678.mp4

```
05-20 01:07:13.482 20827 20828 I         : ==20827==ERROR: AddressSanitizer: heap-use-after-free on address 0xeb102e90 at pc 0xed2a283c bp 0xeb2ff5d8 sp 0xeb2ff1a4 
05-20 01:07:13.482 20827 20828 I         : 
05-20 01:07:13.482 20827 20828 I         : 
05-20 01:07:13.482 20827 20828 I         : READ of size 1 at 0xeb102e90 thread T1 (Binder:20827_1) 
05-20 01:07:13.482 20827 20828 I         : 
05-20 01:07:13.528 20827 20828 I         :     #0 0xed2a283b in strcmp (/system/lib/libclang_rt.asan-arm-android.so+0x2183b) 
05-20 01:07:13.528 20827 20828 I         : 
05-20 01:07:13.590 20827 20828 I         :     #1 0xed92885f in android::MPEG4Extractor::getTrackMetaData(unsigned int, unsigned int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:493:18 
05-20 01:07:13.590 20827 20828 I         : 
05-20 01:07:13.596 20827 20828 I         :     #2 0xece87cab in android::BnMediaExtractor::onTransact(unsigned int, android::Parcel const&, android::Parcel*, unsigned int) (/system/lib/libmedia.so+0x88cab) 
05-20 01:07:13.596 20827 20828 I         : 
05-20 01:07:13.612 20827 20828 I         :     #3 0xedc3d9bf in android::BBinder::transact(unsigned int, android::Parcel const&, android::Parcel*, unsigned int) /proc/self/cwd/frameworks/native/libs/binder/Binder.cpp:126:19 
05-20 01:07:13.612 20827 20828 I         : 
05-20 01:07:13.614 20827 20828 I         :     #4 0xedc4519d in android::IPCThreadState::executeCommand(int) /proc/self/cwd/frameworks/native/libs/binder/IPCThreadState.cpp:1111:29 
05-20 01:07:13.614 20827 20828 I         : 
05-20 01:07:13.614 20827 20828 I         :     #5 0xedc44df1 in android::IPCThreadState::getAndExecuteCommand() /proc/self/cwd/frameworks/native/libs/binder/IPCThreadState.cpp:445:18 
05-20 01:07:13.614 20827 20828 I         : 
05-20 01:07:13.615 20827 20828 I         :     #6 0xedc45301 in android::IPCThreadState::joinThreadPool(bool) /proc/self/cwd/frameworks/native/libs/binder/IPCThreadState.cpp:513:18 
05-20 01:07:13.615 20827 20828 I         : 
05-20 01:07:13.617 20827 20828 I         :     #7 0xedc57987 in android::PoolThread::threadLoop() /proc/self/cwd/frameworks/native/libs/binder/ProcessState.cpp:63:9 
05-20 01:07:13.617 20827 20828 I         : 
05-20 01:07:13.622 20827 20828 I         :     #8 0xed275325 in android::Thread::_threadLoop(void*) /proc/self/cwd/system/core/libutils/Threads.cpp:751:26 
05-20 01:07:13.622 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         :     #9 0xecfa4093 in __pthread_start(void*) (/system/lib/libc.so+0x47093) 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         :     #10 0xecf76bdd in __start_thread (/system/lib/libc.so+0x19bdd) 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         : 0xeb102e90 is located 0 bytes inside of 11-byte region [0xeb102e90,0xeb102e9b) 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.627 20827 20828 I         : freed by thread T1 (Binder:20827_1) here: 
05-20 01:07:13.627 20827 20828 I         : 
05-20 01:07:13.628 20827 20828 I         :     #0 0xed2f590f in __interceptor_free (/system/lib/libclang_rt.asan-arm-android.so+0x7490f) 
05-20 01:07:13.628 20827 20828 I         : 
05-20 01:07:13.635 20827 20828 I         :     #1 0xed2320a1 in android::MetaData::typed_data::freeStorage() /proc/self/cwd/frameworks/av/media/libstagefright/foundation/MetaData.cpp:311:13 
05-20 01:07:13.635 20827 20828 I         : 
05-20 01:07:13.636 20827 20828 I         :     #2 0xed2320a1 in android::MetaData::typed_data::clear() /proc/self/cwd/frameworks/av/media/libstagefright/foundation/MetaData.cpp:269 
05-20 01:07:13.636 20827 20828 I         : 
05-20 01:07:13.636 20827 20828 I         :     #3 0xed2320a1 in android::MetaData::typed_data::~typed_data() /proc/self/cwd/frameworks/av/media/libstagefright/foundation/MetaData.cpp:241 
05-20 01:07:13.636 20827 20828 I         : 
05-20 01:07:13.636 20827 20828 I         :     #4 0xed2320a1 in android::key_value_pair_t<unsigned int, android::MetaData::typed_data>::~key_value_pair_t() /proc/self/cwd/system/core/include/utils/TypeHelpers.h:234 
05-20 01:07:13.636 20827 20828 I         : 
05-20 01:07:13.636 20827 20828 I         :     #5 0xed2320a1 in void android::destroy_type<android::key_value_pair_t<unsigned int, android::MetaData::typed_data> >(android::key_value_pair_t<unsigned int, android::MetaData::typed_data>*, unsigned int) /proc/self/cwd/system/core/include/utils/TypeHelpers.h:146 
05-20 01:07:13.636 20827 20828 I         : 
05-20 01:07:13.636 20827 20828 I         :     #6 0xed2320a1 in android::SortedVector<android::key_value_pair_t<unsigned int, android::MetaData::typed_data> >::do_destroy(void*, unsigned int) const /proc/self/cwd/system/core/include/utils/SortedVector.h:249 
05-20 01:07:13.636 20827 20828 I         : 
05-20 01:07:13.637 20827 20828 I         :     #7 0xece87cab in android::BnMediaExtractor::onTransact(unsigned int, android::Parcel const&, android::Parcel*, unsigned int) (/system/lib/libmedia.so+0x88cab) 
05-20 01:07:13.637 20827 20828 I         : 
05-20 01:07:13.637 20827 20828 I         : 
05-20 01:07:13.637 20827 20828 I         : 
05-20 01:07:13.637 20827 20828 I         : previously allocated by thread T1 (Binder:20827_1) here: 
05-20 01:07:13.637 20827 20828 I         : 
05-20 01:07:13.637 20827 20828 I         :     #0 0xed2f5c57 in malloc (/system/lib/libclang_rt.asan-arm-android.so+0x74c57) 
05-20 01:07:13.637 20827 20828 I         : 
05-20 01:07:13.638 20827 20828 I         :     #1 0xed2319d3 in android::MetaData::typed_data::allocateStorage(unsigned int) /proc/self/cwd/frameworks/av/media/libstagefright/foundation/MetaData.cpp:300:18 
05-20 01:07:13.638 20827 20828 I         : 
05-20 01:07:13.638 20827 20828 I         :     #2 0xed92d9f3 in android::MPEG4Extractor::parseChunk(long long*, int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:991:32 
05-20 01:07:13.638 20827 20828 I         : 
05-20 01:07:13.639 20827 20828 I         :     #3 0xed92d9f3 in android::MPEG4Extractor::parseChunk(long long*, int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:991:32 
05-20 01:07:13.639 20827 20828 I         : 
05-20 01:07:13.640 20827 20828 I         :     #4 0xed92d9f3 in android::MPEG4Extractor::parseChunk(long long*, int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:991:32 
05-20 01:07:13.640 20827 20828 I         : 
05-20 01:07:13.641 20827 20828 I         :     #5 0xed92d9f3 in android::MPEG4Extractor::parseChunk(long long*, int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:991:32 
05-20 01:07:13.641 20827 20828 I         : 
05-20 01:07:13.642 20827 20828 I         :     #6 0xed92d9f3 in android::MPEG4Extractor::parseChunk(long long*, int) /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:991:32 
05-20 01:07:13.642 20827 20828 I         : 
05-20 01:07:13.642 20827 20828 I         :     #7 0xed92788f in android::MPEG4Extractor::readMetaData() /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:532:15 
05-20 01:07:13.642 20827 20828 I         : 
05-20 01:07:13.643 20827 20828 I         :     #8 0xed927627 in android::MPEG4Extractor::getMetaData() /proc/self/cwd/frameworks/av/media/libstagefright/MPEG4Extractor.cpp:418:16 
05-20 01:07:13.643 20827 20828 I         : 
05-20 01:07:13.643 20827 20828 I         :     #9 0xece87cd7 in android::BnMediaExtractor::onTransact(unsigned int, android::Parcel const&, android::Parcel*, unsigned int) (/system/lib/libmedia.so+0x88cd7) 
05-20 01:07:13.643 20827 20828 I         : 
05-20 01:07:13.644 20827 20828 I         : 
05-20 01:07:13.644 20827 20828 I         : 
05-20 01:07:13.644 20827 20828 I         : Thread T1 (Binder:20827_1) created by T0 here: 
05-20 01:07:13.644 20827 20828 I         : 
05-20 01:07:13.644 20827 20828 I         :     #0 0xed2dd4db in pthread_create (/system/lib/libclang_rt.asan-arm-android.so+0x5c4db) 
05-20 01:07:13.644 20827 20828 I         : 
05-20 01:07:13.644 20827 20828 I         :     #1 0xed274ed9 in androidCreateRawThreadEtc /proc/self/cwd/system/core/libutils/Threads.cpp:160:18 
05-20 01:07:13.644 20827 20828 I         : 
05-20 01:07:13.645 20827 20828 I         :     #2 0xecf73c61 in __libc_init (/system/lib/libc.so+0x16c61) 
05-20 01:07:13.645 20827 20828 I         : 
05-20 01:07:13.646 20827 20828 I         :     #3 0xffffffff  (<unknown module>) 
05-20 01:07:13.646 20827 20828 I         : 
05-20 01:07:13.646 20827 20828 I         : 
05-20 01:07:13.646 20827 20828 I         : 
05-20 01:07:13.646 20827 20828 I         : SUMMARY: AddressSanitizer: heap-use-after-free (/system/lib/libclang_rt.asan-arm-android.so+0x2183b) in strcmp 
05-20 01:07:13.646 20827 20828 I         : 
05-20 01:07:13.647 20827 20828 I         : Shadow bytes around the buggy address: 
05-20 01:07:13.647 20827 20828 I         :   0x1d620580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d620590: fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d6205a0: fa fa 00 03 fa fa fd fd fa fa fd fa fa fa fd fd 
05-20 01:07:13.647 20827 20828 I         :   0x1d6205b0: fa fa fd fa fa fa fd fd fa fa fd fa fa fa 00 02 
05-20 01:07:13.647 20827 20828 I         :   0x1d6205c0: fa fa fd fd fa fa fd fa fa fa fd fd fa fa fd fa 
05-20 01:07:13.647 20827 20828 I         : =>0x1d6205d0: fa fa[fd]fd fa fa 00 04 fa fa 04 fa fa fa 00 fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d6205e0: fa fa fd fd fa fa fd fd fa fa 00 00 fa fa fd fd 
05-20 01:07:13.647 20827 20828 I         :   0x1d6205f0: fa fa fd fa fa fa 00 00 fa fa 00 fa fa fa fd fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d620600: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d620610: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 
05-20 01:07:13.647 20827 20828 I         :   0x1d620620: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa 
05-20 01:07:13.647 20827 20828 I         : Shadow byte legend (one shadow byte represents 8 application bytes): 
05-20 01:07:13.647 20827 20828 I         :   Addressable:           00 
05-20 01:07:13.647 20827 20828 I         :   Partially addressable: 01 02 03 04 05 06 07 
05-20 01:07:13.647 20827 20828 I         :   Heap left redzone:       fa 
05-20 01:07:13.647 20827 20828 I         :   Heap right redzone:      fb 
05-20 01:07:13.647 20827 20828 I         :   Freed heap region:       fd 
05-20 01:07:13.647 20827 20828 I         :   Stack left redzone:      f1 
05-20 01:07:13.647 20827 20828 I         :   Stack mid redzone:       f2 
05-20 01:07:13.647 20827 20828 I         :   Stack right redzone:     f3 
05-20 01:07:13.647 20827 20828 I         :   Stack partial redzone:   f4 
05-20 01:07:13.647 20827 20828 I         :   Stack after return:      f5 
05-20 01:07:13.647 20827 20828 I         :   Stack use after scope:   f8 
05-20 01:07:13.647 20827 20828 I         :   Global redzone:          f9 
05-20 01:07:13.647 20827 20828 I         :   Global init order:       f6 
05-20 01:07:13.647 20827 20828 I         :   Poisoned by user:        f7 
05-20 01:07:13.647 20827 20828 I         :   Container overflow:      fc 
05-20 01:07:13.647 20827 20828 I         :   Array cookie:            ac 
05-20 01:07:13.647 20827 20828 I         :   Intra object redzone:    bb 
05-20 01:07:13.647 20827 20828 I         :   ASan internal:           fe 
05-20 01:07:13.647 20827 20828 I         :   Left alloca redzone:     ca 
05-20 01:07:13.647 20827 20828 I         :   Right alloca redzone:    cb 
05-20 01:07:13.647 20827 20828 I         : 
05-20 01:07:13.647 20827 20828 I         : ==20827==ABORTING
```